
<h1>Explore Courses Calendar</h1>
<p>Find your course section and add them to your schedule.</p>
<p>Use course id to search. Click link to download ics file.</p>
<%= form_tag courses_path, :method => 'get' do %>
  <p>
    <%= text_field_tag :search, params[:search] %>
    <%= submit_tag "Search", :name => nil %>
  </p>
<% end %>

<% if @keyword %>
<p><%= @count %> search results for <%= @keyword %>.</p>
<table>
	<thead>
		<tr>
			<th colspan="3"></th>
		</tr>
	</thead>

	<tbody>
		<% @results.each do |name| %>
		<tr>
		<td><%= link_to name, "ics/" + name + ".ics" %> </td>
		</tr>
		<% end %>
	</tbody>
</table>
<p>
page <%= @page %> of <%= @pages %>
</p>
	<% for page in 1..@pages %>
		<% if page != @page %>
		<%= link_to page, courses_path({:search => @keyword, :page => page}), :method => 'get'%>
		<% else %>
		<%= page %>
		<% end %>
	<% end %>
<% end %>
<!-- Jiren Zhu Sep 25 2016 email: jirenz at stanford dot edu-->
<!-- Many thanks to Jim Sporch https://explorecourses.stanford.edu/instructor/jsproch for providing the api to access explore courses programatically -->